webpackJsonp([1],{Gyvg:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});t("O2NY");var s={data:function(){return{picurl:"http://lb3.28888753.cn/imges/",ruleForm:{name:"",phone:"",passWord:"",role:"",images:"",openAccNum:"",busType:"",scopAdr:"",address:"",selAdr:"",openAccTime:"",endTime:"",openAccLimit:""},pdfData:{uid:""},roleData:[],rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"手机号格式错误",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}],openAccNum:[{required:!0,message:"请输入开户数",trigger:"blur"}],busType:[{required:!0,message:"请输入商户类型",trigger:"blur"}],address:[{required:!0,message:"请输入地区",trigger:"blur"}],openAccTime:[{required:!0,message:"请选择开户时间",trigger:"blur"}],endTime:[{required:!0,message:"请选择截止时间",trigger:"blur"}],openAccLimit:[{required:!0,message:"请输入开户限定",trigger:"blur"}]},options:[],busTypeOpt:[{value:"1",label:"个人"},{value:"2",label:"企业"}],scopAdrOpt:[{value:"1",label:"全国"},{value:"2",label:"规定区域"}],openUserLimit:[{value:"1",label:"限定开户数"},{value:"2",label:"不限定开户数"}]}},created:function(){this.userMsg(),this.addressList(),this.roleList()},methods:{roleList:function(){var e=this,r=new URLSearchParams;r.append("uid",localStorage.getItem("uid")),this.$http.post(this.$api.roleList.roleList,r,!0).then(function(r){console.log("角色列表",r),"success"==r.data.state&&(e.roleData=r.data.getroleList),console.log(e.roleData)})},addressList:function(){var e=this,r=new URLSearchParams;r.append("uid",localStorage.getItem("uid")),this.$http.post(this.$api.addressList.addressList,r,!0).then(function(r){if(console.log("地区列表",r),"success"==r.data.state){for(var t=r.data.getCnRegionInfoVOList,s=[],a=0;a<t.length;a++){for(var l=[],o=0;o<t[a].cnRegionInfoVOList.length;o++){for(var i=[],n=0;n<t[a].cnRegionInfoVOList[o].cnRegionInfoVOList.length;n++)i.push({value:t[a].cnRegionInfoVOList[o].cnRegionInfoVOList[n].cRINAME,label:t[a].cnRegionInfoVOList[o].cnRegionInfoVOList[n].cRINAME});l.push({value:t[a].cnRegionInfoVOList[o].cRINAME,label:t[a].cnRegionInfoVOList[o].cRINAME,children:i})}s.push({value:t[a].cRINAME,label:t[a].cRINAME,children:l})}e.options=s}})},adrlist:function(){for(var e="",r=0;r<this.ruleForm.address.length;r++)e+=this.ruleForm.address[r]+"$";this.ruleForm.selAdr=e.split(",").join("/").split("$").join(",").substr(0,e.length-1)},userMsg:function(){var e=this,r=new URLSearchParams;r.append("uid",localStorage.getItem("uid")),r.append("upUid",this.$route.query.id),this.$http.post(this.$api.userMsg.userMsg,r,!0).then(function(r){if(console.log("用户原信息",r),"success"==r.data.state){switch(e.ruleForm.name=r.data.getUsers.usersName,e.ruleForm.phone=r.data.getUsers.usersPhone,e.ruleForm.images=r.data.getUsers.images,r.data.getUsers.role){case 1:e.ruleForm.role="超级管理员";break;case 2:e.ruleForm.role="普通管理员";break;case 3:e.ruleForm.role="代理商";break;case 4:e.ruleForm.role="活动商";break;default:e.ruleForm.role="用户"}switch(e.ruleForm.openAccNum=r.data.getUsers.limitNum,r.data.getUsers.merchantType){case"1":e.ruleForm.busType="个人";break;default:e.ruleForm.busType="企业"}switch(e.ruleForm.scopAdr=r.data.getUsers.regionName,e.ruleForm.address=r.data.getUsers.region_province_city,e.ruleForm.openAccTime=r.data.getUsers.usersStartTime,e.ruleForm.endTime=r.data.getUsers.usersEndTime,r.data.getUsers.limitType){case 1:e.ruleForm.openAccLimit="限定开户数";break;default:e.ruleForm.openAccLimit="不限定开户数"}}})},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var t=new URLSearchParams;switch(t.append("uid",localStorage.getItem("uid")),t.append("id",r.$route.query.id),t.append("usersName",r.ruleForm.name),t.append("usersPwd",r.ruleForm.passWord),t.append("images",r.ruleForm.images),t.append("usersPhone",r.ruleForm.phone),r.ruleForm.role){case"超级管理员":r.ruleForm.role="1";break;case"普通管理员":r.ruleForm.role="2";break;case"代理商":r.ruleForm.role="3";break;case"活动商":r.ruleForm.role="4";break;default:r.ruleForm.role="5"}switch(t.append("role",r.ruleForm.role),t.append("limitNum",r.ruleForm.openAccNum),r.ruleForm.busType){case"个人":r.ruleForm.busType="1";break;default:r.ruleForm.busType="2"}switch(t.append("merchantType",r.ruleForm.busType),console.log("this.ruleForm.scopAdr",r.ruleForm.scopAdr),r.ruleForm.scopAdr){case"全国":r.ruleForm.scopAdr="1";break;default:r.ruleForm.scopAdr="2"}t.append("region",r.ruleForm.scopAdr),t.append("region_province_city",r.ruleForm.selAdr),t.append("usersStartTime",r.getTime(new Date(r.ruleForm.openAccTime))),t.append("usersEndTime",r.getTime(new Date(r.ruleForm.endTime))),t.append("limitType",r.ruleForm.openAccLimit),r.$http.post(r.$api.upUser.upUser,t,!0).then(function(e){console.log("用户更新",e),"success"==e.data.state&&(r.$message({showClose:!0,message:"用户更新成功 ！",type:"success"}),r.$router.push({path:"/users/list"}))})})},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess:function(e,r){this.ruleForm.images=r.response.url},beforeAvatarUpload:function(e){var r=localStorage.getItem("uid");this.pdfData={uid:r};var t="image/jpeg"===e.type,s=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&s},getTime:function(e){var r=e.getFullYear(),t=e.getMonth()+1,s=e.getDate();return r+"-"+(t=t<10?"0"+t:t)+"-"+(s=s<10?"0"+s:s)}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"adduser"},[t("el-card",{staticClass:"adduser-card"},[t("div",{staticClass:"adduser-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("用户更新")])]),e._v(" "),t("div",{staticClass:"main"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"250px"}},[t("div",{staticClass:"user-name ipt-wid"},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1)],1),e._v(" "),t("div",{staticClass:"user-name ipt-wid"},[t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1)],1),e._v(" "),t("div",{staticClass:"user-name ipt-wid"},[t("el-form-item",{attrs:{label:"密码",prop:"passWord"}},[t("el-input",{attrs:{disabled:"",placeholder:"请到个人中心修改密码"},model:{value:e.ruleForm.passWord,callback:function(r){e.$set(e.ruleForm,"passWord",r)},expression:"ruleForm.passWord"}})],1)],1),e._v(" "),t("div",{staticClass:"user-pic ipt-wid"},[t("el-form-item",{attrs:{label:"头像",prop:"userpic"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://lb3.28888753.cn/b/getusers/uploadfile_users",data:e.pdfData,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[""!=e.ruleForm.images?t("img",{staticClass:"avatar",attrs:{src:e.picurl+e.ruleForm.images}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),t("div",{staticClass:"user-gender ipt-wid"},[t("el-form-item",{attrs:{label:"角色",prop:"role"}},[t("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.ruleForm.role,callback:function(r){e.$set(e.ruleForm,"role",r)},expression:"ruleForm.role"}},e._l(e.roleData,function(e){return t("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}),1)],1)],1),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"开户限定",prop:"openAccLimit"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.openAccLimit,callback:function(r){e.$set(e.ruleForm,"openAccLimit",r)},expression:"ruleForm.openAccLimit"}},e._l(e.openUserLimit,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),"1"==e.ruleForm.openAccLimit||"限定开户数"==e.ruleForm.openAccLimit?t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"开户数",prop:"openAccNum"}},[t("el-input",{model:{value:e.ruleForm.openAccNum,callback:function(r){e.$set(e.ruleForm,"openAccNum",r)},expression:"ruleForm.openAccNum"}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"商户类型",prop:"busType",required:""}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.busType,callback:function(r){e.$set(e.ruleForm,"busType",r)},expression:"ruleForm.busType"}},e._l(e.busTypeOpt,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"区域",prop:"scopAdr",required:""}},[t("el-select",{attrs:{placeholder:"请选择区域"},model:{value:e.ruleForm.scopAdr,callback:function(r){e.$set(e.ruleForm,"scopAdr",r)},expression:"ruleForm.scopAdr"}},e._l(e.scopAdrOpt,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),"规定区域"==e.ruleForm.scopAdr?t("div",{staticClass:"user-address ipt-wid"},[t("el-form-item",{attrs:{label:"省、市、区",prop:"address",required:""}},[t("el-cascader",{attrs:{placeholder:e.ruleForm.address,options:e.options,clearable:""},on:{change:e.adrlist},model:{value:e.ruleForm.address,callback:function(r){e.$set(e.ruleForm,"address",r)},expression:"ruleForm.address"}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"开户时间",prop:"openAccTime"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.openAccTime,callback:function(r){e.$set(e.ruleForm,"openAccTime",r)},expression:"ruleForm.openAccTime"}})],1)],1),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"截止时间",prop:"endTime"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.endTime,callback:function(r){e.$set(e.ruleForm,"endTime",r)},expression:"ruleForm.endTime"}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即更新")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]};var l=t("C7Lr")(s,a,!1,function(e){t("LCps")},null,null);r.default=l.exports},LCps:function(e,r){},"Y/eD":function(e,r){},cfZ0:function(e,r){},kUrJ:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={data:function(){return{searchFrom:{name:"",phone:""},tableData:[],page:"1",pageSize:"5",total:0}},created:function(){this.usersList()},methods:{changeTarget:function(){this.$router.push({path:"/users/add"})},searchSubmit:function(){var e=[this.getTime(new Date(this.form.date[0])),this.getTime(new Date(this.form.date[1])),this.form.userName],r=e[0],t=e[1],s=e[2],a=new URLSearchParams;a.append("createTime_start",r),a.append("createTime_end",t),a.append("userName",s),this.$http.post(this.$api.userCashLog.userCashLog,a,!0).then(function(e){console.log("搜索",e)})},usersList:function(){var e=this,r=new URLSearchParams;r.append("uid",localStorage.getItem("uid")),r.append("page",this.page),r.append("show_num",this.pageSize),this.$http.post(this.$api.usersList.usersList,r,!0).then(function(r){console.log("用户列表",r),"success"==r.data.state&&(e.tableData=r.data.getUsersVOList,e.total=r.data.count)})},handleSizeChange:function(e){console.log("1",e),this.pageSize=e,this.usersList()},handleCurrentChange:function(e){console.log("2",e),this.page=e,this.usersList()},upData:function(e){this.$router.push({path:"/users/up",query:{id:e}})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"userlist"},[t("el-card",{staticClass:"search"},[t("el-form",{ref:"searchFrom",attrs:{model:e.searchFrom}},[t("el-input",{staticClass:"search-item",attrs:{placeholder:"请输入姓名"},model:{value:e.searchFrom.name,callback:function(r){e.$set(e.searchFrom,"name",r)},expression:"searchFrom.name"}}),e._v(" "),t("el-input",{staticClass:"search-item",attrs:{placeholder:"请输入电话"},model:{value:e.searchFrom.phone,callback:function(r){e.$set(e.searchFrom,"phone",r)},expression:"searchFrom.phone"}}),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchSubmit}},[e._v("搜索")])],1)],1),e._v(" "),t("el-card",{staticClass:"userlist-list"},[t("div",{staticClass:"card-head",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"title",staticStyle:{float:"left"}},[e._v("用户列表")]),e._v(" "),t("el-button",{staticStyle:{float:"right","font-weight":"400"},attrs:{type:"primary"},on:{click:e.changeTarget}},[e._v("+ 添加用户")])],1),e._v(" "),t("div",{staticClass:"list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{fixed:"",prop:"usersName",label:"姓名",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"usersPhone",label:"手机号",width:"220"}}),e._v(" "),t("el-table-column",{attrs:{label:"角色",width:"100"},scopedSlots:e._u([{key:"default",fn:function(r){return["1"==r.row.role?t("span",[e._v("超级管理员")]):"2"==r.row.role?t("span",[e._v("普通管理员")]):"3"==r.row.role?t("span",[e._v("代理")]):"4"==r.row.role?t("span",[e._v("活动商")]):e._e(),e._v(" "),"5"==r.row.role?t("span",[e._v("用户")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"merchantType",label:"商户类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(r){return["1"==r.row.merchantType?t("span",[e._v("个人")]):t("span",[e._v("企业")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"usersStartTime",label:"开户时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"usersEndTime",label:"截止时间"}}),e._v(" "),t("el-table-column",{attrs:{label:"开户限定"},scopedSlots:e._u([{key:"default",fn:function(r){return["1"==r.row.limitType?t("span",[e._v("限定开户数")]):t("span",[e._v("不限定开户数")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"开户数"},scopedSlots:e._u([{key:"default",fn:function(r){return["1"==r.row.limitType?t("span",[e._v(e._s(r.row.limitNum))]):t("span",[e._v("暂无数据")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"region",label:"地区"},scopedSlots:e._u([{key:"default",fn:function(r){return["1"==r.row.region?t("span",[e._v("全国")]):t("span",[e._v("规定区域")])]}}])}),e._v(" "),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.upData(r.row.id)}}},[e._v("用户更新")])]}}])})],1),e._v(" "),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"page-sizes":[5,10],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1)},staticRenderFns:[]};var l=t("C7Lr")(s,a,!1,function(e){t("cfZ0")},"data-v-eba39994",null);r.default=l.exports},o00k:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={data:function(){return{ruleForm:{name:"",phone:"",passWord:"",role:"",images:"",openAccNum:"",busType:"",address:"",openAccTime:"",endTime:"",openAccLimit:"",selAdr:"",scopAdr:""},roleData:[],imageUrl:"",pdfData:{uid:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],passWord:[{required:!0,message:"请输入登入密码",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"手机号格式错误",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}],openAccNum:[{required:!0,message:"请输入开户数",trigger:"blur"}],busType:[{required:!0,message:"请输入商户类型",trigger:"blur"}],scopAdr:[{required:!0,message:"请设置区域",trigger:"blur"}],openAccTime:[{required:!0,message:"请选择开户时间",trigger:"blur"}],endTime:[{required:!0,message:"请选择截止时间",trigger:"blur"}],openAccLimit:[{required:!0,message:"请输入开户限定",trigger:"blur"}]},options:[],busTypeOpt:[{value:"1",label:"个人"},{value:"2",label:"企业"}],scopAdrOpt:[{value:"1",label:"全国"},{value:"2",label:"规定区域"}],openUserLimit:[{value:"1",label:"限定开户数"},{value:"2",label:"不限定开户数"}]}},created:function(){this.addressList(),this.roleList()},methods:{roleList:function(){var e=this,r=new URLSearchParams;r.append("uid",localStorage.getItem("uid")),this.$http.post(this.$api.roleList.roleList,r,!0).then(function(r){console.log("角色列表",r),"success"==r.data.state&&(e.roleData=r.data.getroleList),console.log(e.roleData)})},addressList:function(){var e=this,r=new URLSearchParams;r.append("uid",localStorage.getItem("uid")),this.$http.post(this.$api.addressList.addressList,r,!0).then(function(r){if(console.log("地区列表",r),"success"==r.data.state){for(var t=r.data.getCnRegionInfoVOList,s=[],a=0;a<t.length;a++){for(var l=[],o=0;o<t[a].cnRegionInfoVOList.length;o++){for(var i=[],n=0;n<t[a].cnRegionInfoVOList[o].cnRegionInfoVOList.length;n++)i.push({value:t[a].cnRegionInfoVOList[o].cnRegionInfoVOList[n].cRINAME,label:t[a].cnRegionInfoVOList[o].cnRegionInfoVOList[n].cRINAME});l.push({value:t[a].cnRegionInfoVOList[o].cRINAME,label:t[a].cnRegionInfoVOList[o].cRINAME,children:i})}s.push({value:t[a].cRINAME,label:t[a].cRINAME,children:l})}e.options=s}})},adrlist:function(){for(var e="",r=0;r<this.ruleForm.address.length;r++)e+=this.ruleForm.address[r]+"$";this.ruleForm.selAdr=e.split(",").join("/").split("$").join(",").substr(0,e.length-1)},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var t=new URLSearchParams,s=r.ruleForm.phone;t.append("usersPhones",s),r.$http.post(r.$api.phoneSearch.phoneSearch,t,!0).then(function(e){if(console.log("电话查询",e),"n"==e.data.msg){var t=new URLSearchParams;t.append("uid",localStorage.getItem("uid")),t.append("usersName",r.ruleForm.name),t.append("images",r.ruleForm.images),t.append("usersPhone",r.ruleForm.phone),t.append("usersPwd",r.ruleForm.passWord),t.append("role",r.ruleForm.role),t.append("limitNum",r.ruleForm.openAccNum),t.append("merchantType",r.ruleForm.busType),t.append("region",r.ruleForm.scopAdr),t.append("region_province_city",r.ruleForm.selAdr),t.append("usersStartTime",r.getTime(new Date(r.ruleForm.openAccTime))),t.append("usersEndTime",r.getTime(new Date(r.ruleForm.endTime))),t.append("limitType",r.ruleForm.openAccLimit),r.$http.post(r.$api.usersAdd.usersAdd,t,!0).then(function(e){console.log("添加用户",e),"success"==e.data.state&&(r.successMsg(),r.$router.push({path:"/users/list"}))})}else r.errorMsg()})})},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess:function(e,r){console.log("file",r),this.imageUrl=URL.createObjectURL(r.raw),this.ruleForm.images=r.response.url},getTime:function(e){var r=e.getFullYear(),t=e.getMonth()+1,s=e.getDate();return r+"-"+(t=t<10?"0"+t:t)+"-"+(s=s<10?"0"+s:s)},successMsg:function(){this.$message("用户添加成功")},errorMsg:function(){this.$message.error("该号码已注册")}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"adduser"},[t("el-card",{staticClass:"adduser-card"},[t("div",{staticClass:"adduser-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("添加用户")])]),e._v(" "),t("div",{staticClass:"main"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"250px"}},[t("div",{staticClass:"user-name ipt-wid"},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1)],1),e._v(" "),t("div",{staticClass:"user-name ipt-wid"},[t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1)],1),e._v(" "),t("div",{staticClass:"user-name ipt-wid"},[t("el-form-item",{attrs:{label:"密码",prop:"passWord"}},[t("el-input",{model:{value:e.ruleForm.passWord,callback:function(r){e.$set(e.ruleForm,"passWord",r)},expression:"ruleForm.passWord"}})],1)],1),e._v(" "),t("div",{staticClass:"user-pic ipt-wid"},[t("el-form-item",{attrs:{label:"头像",prop:"userpic"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://lb3.28888753.cn/b/getusers/uploadfile_users",data:e.pdfData,"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),t("div",{staticClass:"user-gender ipt-wid"},[t("el-form-item",{attrs:{label:"角色",prop:"role"}},[t("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.ruleForm.role,callback:function(r){e.$set(e.ruleForm,"role",r)},expression:"ruleForm.role"}},e._l(e.roleData,function(e){return t("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}),1)],1)],1),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"开户限定",prop:"openAccLimit"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.openAccLimit,callback:function(r){e.$set(e.ruleForm,"openAccLimit",r)},expression:"ruleForm.openAccLimit"}},e._l(e.openUserLimit,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),"1"==e.ruleForm.openAccLimit?t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"开户数",prop:"openAccNum"}},[t("el-input",{model:{value:e.ruleForm.openAccNum,callback:function(r){e.$set(e.ruleForm,"openAccNum",r)},expression:"ruleForm.openAccNum"}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"商户类型",prop:"busType",required:""}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.busType,callback:function(r){e.$set(e.ruleForm,"busType",r)},expression:"ruleForm.busType"}},e._l(e.busTypeOpt,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"区域",prop:"scopAdr"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.scopAdr,callback:function(r){e.$set(e.ruleForm,"scopAdr",r)},expression:"ruleForm.scopAdr"}},e._l(e.scopAdrOpt,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),"2"==e.ruleForm.scopAdr?t("div",{staticClass:"user-address ipt-wid"},[t("el-form-item",{attrs:{label:"省，市，区",prop:"address",required:""}},[t("el-cascader",{attrs:{options:e.options,props:e.props,clearable:""},on:{change:e.adrlist},model:{value:e.ruleForm.address,callback:function(r){e.$set(e.ruleForm,"address",r)},expression:"ruleForm.address"}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"开户时间",prop:"openAccTime"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.openAccTime,callback:function(r){e.$set(e.ruleForm,"openAccTime",r)},expression:"ruleForm.openAccTime"}})],1)],1),e._v(" "),t("div",{staticClass:"user-phone ipt-wid"},[t("el-form-item",{attrs:{label:"截止时间",prop:"endTime"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.endTime,callback:function(r){e.$set(e.ruleForm,"endTime",r)},expression:"ruleForm.endTime"}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即添加")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]};var l=t("C7Lr")(s,a,!1,function(e){t("Y/eD")},null,null);r.default=l.exports},v5pv:function(e,r){},zAx1:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("O2NY"),a=t.n(s),l={data:function(){return{form:{nowPas:"",newPas:"",relPas:""},rules:{nowPas:[{required:!0,message:"请输入当前密码",trigger:"blur"}],newPas:[{required:!0,message:"请输入新密码",trigger:"blur"}],relPas:[{required:!0,message:"请再次输入密码",trigger:"blur"}]}}},methods:{formSubmit:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if(r.form.newPas!==r.form.relPas)a.a.sucPrompt(r.$message({showClose:!0,message:"两次密码不一致",type:"error"}));else{var t=[localStorage.getItem("uid"),r.form.nowPas,r.form.newPas],s=t[0],l=t[1],o=t[2],i=new URLSearchParams;i.append("uid",s),i.append("pwd",l),i.append("pwd_new",o),r.$http.post(r.$api.upPassword.upPassword,i,!0).then(function(e){"nosuccess"==e.data.state?a.a.sucPrompt(r.$message({showClose:!0,message:e.data.reason,type:"error"})):a.a.sucPrompt(r.$message({showClose:!0,message:"恭喜您，修改密码成功",type:"success"}))})}})},errMsg:function(e){this.$message.error(e)}}},o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"password"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"250px"}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"now-password block"},[t("el-form-item",{attrs:{label:"当前密码",prop:"nowPas"}},[t("el-input",{attrs:{placeholder:"密码长度8-16位包含数字和字母","show-password":""},model:{value:e.form.nowPas,callback:function(r){e.$set(e.form,"nowPas",r)},expression:"form.nowPas"}})],1)],1),e._v(" "),t("div",{staticClass:"new-password block"},[t("el-form-item",{attrs:{label:"新密码",prop:"newPas"}},[t("el-input",{attrs:{placeholder:"请输入新密码","show-password":""},model:{value:e.form.newPas,callback:function(r){e.$set(e.form,"newPas",r)},expression:"form.newPas"}})],1)],1),e._v(" "),t("div",{staticClass:"confirm-password block"},[t("el-form-item",{attrs:{label:"确认密码",prop:"relPas"}},[t("el-input",{attrs:{placeholder:"确认密码","show-password":""},model:{value:e.form.relPas,callback:function(r){e.$set(e.form,"relPas",r)},expression:"form.relPas"}})],1)],1),e._v(" "),t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.formSubmit("form")}}},[e._v("修改密码")])],1)])],1)],1)},staticRenderFns:[]};var i=t("C7Lr")(l,o,!1,function(e){t("v5pv")},"data-v-5ebb2217",null);r.default=i.exports}});
//# sourceMappingURL=1.ab6bbf0bfea2c6adf0ba.js.map