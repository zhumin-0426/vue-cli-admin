webpackJsonp([23],{K43w:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("O2NY"),s=a.n(i),l={data:function(){return{form:{date:"",name:"",type:""},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},options:[{value:"选项1",label:"普通公告"},{value:"选项2",label:"系统公告"}],tableData:[],page:"1",pageSize:"5",tatol:0}},created:function(){this.tipData()},methods:{searchSubmit:function(){var t=this,e=new URLSearchParams;e.append("uid",localStorage.getItem("uid")),e.append("page",this.page),e.append("show_num",this.pageSize),e.append("createTimeName",this.getTime(new Date(this.form.date))),e.append("labelName",this.form.name),this.$http.post(this.$api.tipList.tipList,e,!0).then(function(e){console.log("搜索",e),"success"==e.data.state&&0!=e.data.count?(t.tatol=e.data.count,t.tableData=e.data.getCardRollVOList):s.a.errPrompt(t.$message({showClose:!0,message:"错了哦，未查询到相应数据",type:"error"}))})},getTime:function(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return e+"-"+(a=a<10?"0"+a:a)+"-"+(i=i<10?"0"+i:i)},tipData:function(){var t=this,e=new URLSearchParams;e.append("uid",localStorage.getItem("uid")),e.append("page",this.page),e.append("show_num",this.pageSize),this.$http.post(this.$api.tipList.tipList,e,!0).then(function(e){console.log("a",e),"success"==e.data.state&&(t.tatol=e.data.count,t.tableData=e.data.getNoticeVOList)})},handleSizeChange:function(t){this.pageSize=t,this.tipData()},handleCurrentChange:function(t){this.page=t,this.tipData()},lookTarget:function(t){console.log("id",t),this.$router.push({path:"/sys/tip/detail",query:{ids:t}})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tip"},[a("el-card",{staticClass:"search-warpper"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("div",{staticClass:"tip-search"},[a("div",{staticClass:"search-row"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}}),t._v(" "),a("el-input",{staticClass:"photo",attrs:{placeholder:"请输入公告名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-select",{attrs:{placeholder:"请选择标签"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchSubmit}},[t._v("搜索")])],1)])],1),t._v(" "),a("el-card",{staticClass:"tip-list"},[a("div",{staticClass:"card-head",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("系统公告")]),t._v(" "),a("router-link",{attrs:{to:"/sys/tip/release"}},[a("el-button",{staticStyle:{float:"right","font-weight":"400"},attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("添加公告")])],1)],1),t._v(" "),a("div",{staticClass:"list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime_show",label:"公告时间",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"700"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){return t.lookTarget(e.row.id)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"page-sizes":[5,10],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.tatol},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])],1)},staticRenderFns:[]};var o=a("C7Lr")(l,n,!1,function(t){a("dbbR")},"data-v-66781a23",null);e.default=o.exports},dbbR:function(t,e){}});
//# sourceMappingURL=23.a181fe480db4bce4506c.js.map