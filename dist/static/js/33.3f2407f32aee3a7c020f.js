webpackJsonp([33],{IxFQ:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("O2NY"),a=t.n(s),l={data:function(){return{ruleForm:{usersId:"",xAppId:"",xAppSecret:"",gzAppId:"",gzAppSecret:"",mchId:"",wxKey:"",paths:""},rules:{usersId:[{required:!0,message:"请设置用户id",trigger:"blur"}],gzAppId:[{required:!0,message:"请设置公众号appid",trigger:"blur"}],gzAppSecret:[{required:!0,message:"请设置公众号secret",trigger:"blur"}],mchId:[{required:!0,message:"请设置商户号",trigger:"blur"}],wxKey:[{required:!0,message:"请设置kay",trigger:"blur"}],paths:[{required:!0,message:"请上传paths文件",trigger:"blur"}]}}},created:function(){this.ruleForm.usersId=localStorage.getItem("uid")},methods:{handleFileChange:function(){var e=this,r=this.$refs.inputer;this.file=r.files[0];Math.floor(this.file.size/1024);this.formData=new FormData,this.formData.append("file",this.file),this.$http.post(this.$api.uploadAppFile.uploadAppFile,this.formData,!0).then(function(r){"success"==r.data.state&&(a.a.errPrompt(e.$message({message:"恭喜你，文件添加成功",type:"success"})),e.ruleForm.paths=r.data.url)})},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var t=new URLSearchParams;t.append("uid",localStorage.getItem("uid")),t.append("usersId",r.ruleForm.usersId),t.append("xAppId",r.ruleForm.xAppId),t.append("xAppSecret",r.ruleForm.xAppSecret),t.append("gzAppId",r.ruleForm.gzAppId),t.append("gzAppSecret",r.ruleForm.gzAppSecret),t.append("mchId",r.ruleForm.mchId),t.append("wxKey",r.ruleForm.wxKey),t.append("paths",r.ruleForm.paths),r.$http.post(r.$api.addAppData.addAppData,t,!0).then(function(e){"success"==e.data.state&&(a.a.errPrompt(r.$message({message:"恭喜你，应用数据添加成功",type:"success"})),r.$router.push({path:"/user/appmsg"}))})})},resetForm:function(e){this.$refs[e].resetFields()}}},p={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"addappmsg"},[t("el-card",{staticClass:"addappmsg-card"},[t("div",{staticClass:"tip"},[t("div",{staticClass:"title"},[t("div",{staticClass:"line"}),e._v(" "),t("div",{staticClass:"txt"},[e._v("添加应用数据")])])]),e._v(" "),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"250px"}},[t("el-form-item",{attrs:{label:"用户id",prop:"usersId"}},[t("el-input",{attrs:{placeholder:"请输入用户id",disabled:""},model:{value:e.ruleForm.usersId,callback:function(r){e.$set(e.ruleForm,"usersId",r)},expression:"ruleForm.usersId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"小程序id",prop:"xAppId"}},[t("el-input",{attrs:{placeholder:"请输入小程序id"},model:{value:e.ruleForm.xAppId,callback:function(r){e.$set(e.ruleForm,"xAppId",r)},expression:"ruleForm.xAppId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"小程序secret",prop:"xAppSecret"}},[t("el-input",{attrs:{placeholder:"请输入小程序secret"},model:{value:e.ruleForm.xAppSecret,callback:function(r){e.$set(e.ruleForm,"xAppSecret",r)},expression:"ruleForm.xAppSecret"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公众号id",prop:"gzAppId"}},[t("el-input",{attrs:{placeholder:"请输入公众号id"},model:{value:e.ruleForm.gzAppId,callback:function(r){e.$set(e.ruleForm,"gzAppId",r)},expression:"ruleForm.gzAppId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公众号secret",prop:"gzAppSecret"}},[t("el-input",{attrs:{placeholder:"请输入公众号secret"},model:{value:e.ruleForm.gzAppSecret,callback:function(r){e.$set(e.ruleForm,"gzAppSecret",r)},expression:"ruleForm.gzAppSecret"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商户号",prop:"mchId"}},[t("el-input",{attrs:{placeholder:"请输入商户号"},model:{value:e.ruleForm.mchId,callback:function(r){e.$set(e.ruleForm,"mchId",r)},expression:"ruleForm.mchId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"kay",prop:"wxKey"}},[t("el-input",{attrs:{placeholder:"请输入kay"},model:{value:e.ruleForm.wxKey,callback:function(r){e.$set(e.ruleForm,"wxKey",r)},expression:"ruleForm.wxKey"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"paths文件",prop:"paths"}},[t("el-input",{attrs:{placeholder:"请上传文件"},model:{value:e.ruleForm.paths,callback:function(r){e.$set(e.ruleForm,"paths",r)},expression:"ruleForm.paths"}},[t("template",{slot:"append"},[t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"info"}},[e._v("选择文件")]),e._v(" "),t("input",{ref:"inputer",attrs:{type:"file",name:"sharePic"},on:{change:e.handleFileChange}})],1)])],2)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即添加")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var o=t("C7Lr")(l,p,!1,function(e){t("wjxh")},"data-v-456e53c4",null);r.default=o.exports},wjxh:function(e,r){}});
//# sourceMappingURL=33.3f2407f32aee3a7c020f.js.map